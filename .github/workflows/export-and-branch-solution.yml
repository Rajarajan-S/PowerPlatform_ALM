name: export-and-commit-solution
# Reusable workflow
# Export solution from DEV environment
#  unpack it and prepare, commit and push the changes

on:
  workflow_dispatch:

    inputs:

      # Change this value

      environment:
        type: choice
        description: Environment
        required: true
        options:
          - Development
          
      track_name:
        type: choice
        description: Track Name
        required: true
        options:
          - Sales Enablemenent
          - Platform Enablement
          - Customer Support
          - Digital Channels
          
      solution_name:

        description: 'name of the solution to worked on from Power Platform'

        required: true

       #Do Not change these values
       
      current_user_email:

        description: 'Email Id of person doing Deployment'

        required: true

       #Do Not change these values
      solution_exported_folder:

        description: 'folder name for staging the exported solution *do not change*'

        required: true

        default: out/exported/

      solution_folder:

        description: 'staging the unpacked solution folder before check-in *do not change*'

        required: true

        default: out/solutions/

      solution_target_folder: 

       description: 'folder name to be created and checked in *do not change*'

       required: true

       default: solutions/
